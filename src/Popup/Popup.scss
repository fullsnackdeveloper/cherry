@import "../styles/stylesIndex.scss";

@include fadesAnimations;

.Popup {
  position: relative;
  display: inline-flex;
  &-trigger {
    display: inherit;
  }
  &-content {
    position: absolute;
    z-index: 400;
    padding: $grid-gap/2;
    background: $color_white;
    border-radius: $border-radius;
    animation: fadeOut 0.3s forwards;
    transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    @include shadow;

    &-title {
      @include paragraph;
      @include font-defaults;
      margin-bottom: $grid-gap/2;
    }

    & > div:last-child {
      margin-bottom: 0;
    }

    &:before {
      z-index: 10;
      content: "";
      position: absolute;
      width: 8px;
      height: 100%;
      border-radius: 4px;
      margin-left: 0;
      box-sizing: border-box;
      background: $color_white;
    }
    &:after {
      z-index: -1;
      content: "";
      position: absolute;
      width: 0;
      height: 0;
      margin-left: 0;
      box-sizing: border-box;
      border: 4px solid #fff;
      border-color: transparent transparent #fff #fff;
      transform-origin: 0 0;
      transform: rotate(45deg);
      box-shadow: 0 0 6px rgba(0, 0, 0, 0.13);
    }

    &.open {
      animation: fadeIn 0.3s forwards;
    }

    // left
    &.l {
      left: calc(100% + 25px);
      top: 50%;
      transform: translateY(-50%);
      &.open {
        left: calc(100% + 15px);
      }
      &:before {
        top: 0;
        bottom: 0;
        left: 0;
        height: 100%;
        width: 8px;
      }
      &:after {
        top: calc(50% - 6px);
        left: 0;
      }
    }

    // right
    &.r {
      right: calc(100% + 25px);
      top: 50%;
      transform: translateY(-50%);
      &.open {
        right: calc(100% + 15px);
      }
      &:before {
        top: 0;
        bottom: 0;
        right: 0;
        height: 100%;
        width: 8px;
      }
      &:after {
        top: calc(50% + 6px);
        right: -8px;
        transform: rotate(-135deg);
      }
    }

    // bottom
    &.b {
      top: calc(100% + 25px);
      left: 50%;
      transform: translateX(-50%);
      &.open {
        transform: translate(-50%, 10px);
      }
      &:before {
        top: 0;
        left: 0;
        right: 0;
        width: 100%;
        height: 8px;
      }
      &:after {
        top: 0;
        left: calc(50% + 6px);
        transform: rotate(135deg);
      }
    }

    // top
    &.t {
      bottom: calc(100% + 25px);
      left: 50%;
      transform: translateX(-50%);
      &.open {
        transform: translateY(10px);
      }
      &:before {
        bottom: 0;
        left: 0;
        right: 0;
        width: 100%;
        height: 8px;
      }
      &:after {
        bottom: -8px;
        left: calc(50% - 6px);
        transform: rotate(-45deg);
      }
    }

    // left top
    &.lt {
      left: calc(100% + 25px);
      top: 0px;
      &.open {
        transform: translateX(10px);
      }
      &:before {
        top: 0;
        bottom: 0;
        left: 0;
        height: 100%;
        width: 8px;
      }
      &:after {
        top: 18px;
        left: 0;
      }
    }
  }
}
